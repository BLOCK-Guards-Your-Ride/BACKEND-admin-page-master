<app-back-button
  backText="APP.BACK_BUTTON.BACK_TO_STATION_LIST"
  [route]="backRoute"
>
</app-back-button>
<mat-card class="plc-metadata-card">
  <mat-card-title>
    {{ 'APP.PLC_METADATA.TITLE' | translate }}
  </mat-card-title>
  <mat-card-content>
      <div
      *ngIf="errorMessage"
      class="error-box">{{ ('APP.ERROR.PLC_METADATA_FORM.' + errorMessage) | translate  }}</div>
      <form
        [formGroup]="plcFormGroup"
        class="plc-metadata-card-form"
        #form="ngForm"
        (ngSubmit)="submitPLMetadata(form)">

        <mat-form-field color="accent">
          <input
            matInput
            formControlName="plcIdentifier"
            required
            [placeholder]="'APP.PLC_METADATA.FORM.INPUT.PLC_IDENTIFIER' | translate"
          >
          <mat-error>
              {{ 'APP.ERROR.FORM.INPUT.REQUIRED' | translate }}
          </mat-error>
        </mat-form-field>
        <mat-form-field color="accent">
          <input
            matInput
            formControlName="publicKey"
            [placeholder]="'APP.PLC_METADATA.FORM.INPUT.PUBLIC_KEY' | translate"
          >
        </mat-form-field>
        <mat-form-field color="accent">
          <input
            matInput
            type="number"
            formControlName="totalDocks"
            [placeholder]="'APP.PLC_METADATA.FORM.INPUT.TOTAL_DOCKS' | translate"
          >
        </mat-form-field>
        <app-dock-list-form
          [formControl]="plcFormGroup.get('dockList')"></app-dock-list-form>
        <button
          class="plc-metadata-card-form__submit"
          [disabled]="form.invalid"
          mat-raised-button
          color="primary"
        >
          {{ 'APP.PLC_METADATA.FORM.BUTTON.SAVE' | translate }}
        </button>
      </form>
  </mat-card-content>
</mat-card>
